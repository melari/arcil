<!doctype html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Tagayasu</title>

<link rel="icon" type="image/x-icon" href="/assets/favicon.ico">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Domine:wght@600&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/highlight.js/latest/styles/github.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" integrity="sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn" crossorigin="anonymous">


<style type="text/css">
body {
  color: #1a1a1a;
}

.editor {
    background-color: #f5f2f8;
    color: #8e30eb;
}

img {
    max-width: 100%;
}

img[alt=size-quarter] {
    display: block;
    margin: auto;
    width: 25%;
}

img[alt=size-third] {
    display: block;
    margin: auto;
    width: 33%;
}

img[alt=size-half] {
    display: block;
    margin: auto;
    width: 50%;
}

img[alt=size-two-thirds] {
    display: block;
    margin: auto;
    width: 66%;
}

blockquote {
    padding: 15px;
    background: #E0E5FE;
}

table:not(.table) {
  margin: auto;

  tbody, td, tfoot, th, thead, tr {
    border-width: 1px;
    padding: 5px;
  }
}

.btn {
    color: #8e30eb;
    background: #e5d0fa;
    border-radius: 20px;
}

.save-draft-button {
    background: #fbe3ff;
    color: #d641f6;
}

.btn-link, .btn-link:hover {
    background: none !important;
    text-decoration: none;
    margin-right: 20px;
}

.btn-subtle {
    background: #e5e2e8;
    color: #858288;
}

.connect-wallet {
    float: right;
    font-weight: bold;
    overflow: hidden;
}

.avatar-main {
    font-weight: bold;
    overflow: hidden;
    width: 40px;
    height: 40px;
    padding: 0px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.avatar-main img {
    min-width: 100%;
    min-height: 100%;
    object-fit: cover;
}

.avatar-inline img {
    width: 40px;
    height: 40px;
    object-fit: cover;
    margin-right: 10px;
}

.navbar-main {
   border-bottom: 1px solid;
   padding: 5px 10px;
}
.navbar-bottom {
    border-top: 1px solid;
    padding: 10px;
}
.navbar-bottom input {
    display: inline;
    width: 20vw;
    flex-grow: 1;
    margin-left: 10px;
    margin-right: 5px;
}
.navbar-bottom button {
    margin-left: 5px;
    margin-right: 5px;
}
.navbar-brand {
    color: #8e30eb !important;
    font-family: "domine";
    border: none !important;
}
.navbar-brand span.jp {
    color: #e5d0fa;
    vertical-align: middle;
}

.notes-header {
    display: flex;
    align-items: center;
}

.icon-button {
    margin: 4px 0px 0px -6px;
    padding: 6px;
}

.icon-button:hover {
    cursor: pointer;
    background: #e2b3e2;
}

#note-search-box {
    padding: 0px 2px;
    border: 1px solid #e5d0fa;
    border-left: none;
    border-radius: 0px;
    margin: 3px 6px 3px 0px;
    min-height: 24px;
    flex-grow: 1;
    background: inherit;
    outline: none;
}

#search-icon {
    max-height: 24px;
    margin: 7px 0px 0px 0px;
    border-radius: 0px;
    padding: 0px 2px 0px 5px;
    border: 1px solid #e5d0fa;
    border-right: none;
    background: inherit;
    color: #8e30eb;
}

.note-list-button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    white-space: nowrap;
}

.note-list-button:hover {
    background: #f0e1f8;
}

.note-list-title {
    cursor: pointer;
    overflow: hidden;
}

.health-good {
    color: #4c3652;
}

.health-med {
    color: #978303;
}

.health-bad {
    color: #970349;
}

.note-more {
    float: right;
    margin-right: 6px;
    cursor: pointer;
    padding-left: 6px;
}

.note-list-button:not(:hover) .note-more {
    display: none !important;
}

.relay-indicator {
    float: right;
    background-color: #8e30eb;
    height: 10px;
    width: 10px;
    margin: 1px;
    border-radius: 10px;
}

.unknown {
    float: left;
    background-color: #d8d8d8;
    height: 10px;
    width: 10px;
    margin: 8px 5px 0px 0px;
    border-radius: 10px;
}

.online {
    float: left;
    background-color: #4ec497;
    height: 10px;
    width: 10px;
    margin: 8px 5px 0px 0px;
    border-radius: 10px;
}

.offline {
    float: left;
    background-color: #e55b5b;
    height: 10px;
    width: 10px;
    margin: 8px 5px 0px 0px;
    border-radius: 10px;
}

.btn:hover, .connect-wallet:hover {
    background: #ac4eff;
    color: white
}

.btn-secondary {
    background: #f5f2f8;
    border: none;
}

.notes-editor {
    display: flex;
    flex-direction: column;
    height: calc(100vh - 100px);
    padding-left: 0px;
    border-left: 1px solid;
}

#sidebar, .notes-editor, .icon-button {
    transition: all 0.3s ease;
}
#notes-list, #search-bar {
    transition: opacity 0.3s;
}

#search-bar {
    flex-wrap: nowrap;
}

.CodeMirror {
	flex-grow: 1;
}

.text-bg-success {
    background-color: #8e30eb !important;
    color: #e5d0fa !important;
}

#page-browser {
  font-size: 1.2rem;
  line-height: 1.7;
  color: #333;
  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;
}

#page-browser a {
    border-color: #8b88e6;
    color: #1a1a1a;
    padding: 0 0.1em;
    border-bottom: 1px solid #d9d9d9;
    text-decoration: none;
}

#page-browser a:hover {
    color: black !important;
    background: #fffaf1 !important;
}

#page-browser a:after {
    content: "↗";
    position: relative;
    top: -0.5em;
    font-size: 0.7em;
    color: #aaa;
}

#page-browser a[href="#tagayasu-prefetch"] {
    border-color: #8b88e6;
    background-color: #efefff;
    color: #1a1a1a;
    padding: 0 0.1em;
    border-bottom: 1px solid #d9d9d9;
    text-decoration: none;
}

#page-browser a[href="#tagayasu-prefetch"]:hover {
    color: black !important;
    background: #fffaf1 !important;
}

#page-browser a[href="#tagayasu-prefetch"]:after, #custom-domain-row a:after, .navbar-brand:after {
    content:'' !important;
}

#custom-domain-row {
    padding: 50px 0px;
}

.editor-toolbar {
    opacity: 0.8;
}

.editor-toolbar, .CodeMirror {
    border: none;
}

.dropdown-menu {
    float: right;
}

.settings-list {
    padding-right: 0px;
    border-right: 1px solid #8e30eb;
}

.settings-list .active {
    background-color: #8e30eb;
}

.settings-list .list-group, .settings-list .active {
    border-color: #ddd;
}

.settings-npub {
    font-size: 0.5em;
    color: #bbb;
    vertical-align: middle;
}

.settings-list-item:hover {
    cursor: pointer;
}

#noteDetailsNaddr:hover, #noteDetailsId:hover {
    cursor: pointer;
    color: #8e30eb;
}

.new-note-type-button {
    width: 100%;
    font-size: smaller;
    color: #1a1a1a;
    background: #f6f4f8;
    border: 1px solid;
    border-radius: 0.375rem;
    min-height: 230px;
    transition: all 0.2s;
}
.new-note-type-button:hover {
  box-shadow: 2px 2px 10px 0px rgba(112,112,112,0.75);
}

.new-note-icon {
    font-size: xxx-large !important;
}

.new-note-type-title {
    font-size: x-large;
    font-weight: bold;
}

.publish-button-group {
    float: right;
}



</style>
</head>

<body>

<div id="page-editor" class="editor" style="display:none;">
    <div class="container-fluid">
        <nav class="navbar navbar-main">
            <div class="d-flex flex-column flex-lg-row align-items-lg-center w-100">
                <a href="/" class="navbar-brand mb-2 mb-lg-0 text-center text-lg-start d-none d-lg-block"><span class="jp">耕す</span> t a g a y a s u</a>
                <div class="d-flex flex-row justify-content-between justify-content-lg-end mt-lg-0 ml-lg-auto w-100 w-lg-auto" style="height:38px;">
                    <button class="btn connect-wallet" onclick="connectWallet()">Connect</button>
                    <button class="btn btn-subtle avatar-main avatar" style="display:none" onclick="showSettings()"></button>
                </div>
            </div>
        </nav>
        <div class="row">
            <div id="sidebar" class="col-lg-3" style="padding-right:0px">
                <div class="notes-header">
                  <i class="fa fa-bars icon-button" onclick="toggleSidebar()"></i>
                  <i class="fa fa-plus icon-button" onclick="showNewNoteModal()"></i>
                  <i class="fa fa-gears icon-button" onclick="showCurrentNoteOptions()" id='show-current-note-options' style="display:none"></i>
                  <div id="search-bar" class="input-group">
                      <span class="input-group-text" id="search-icon"><i class="fa fa-search"></i></span>
                      <input id="note-search-box" class="form-control-sm mr-sm-2" type="search" placeholder="Search" aria-label="Search" style="margin-top: 7px" oninput="searchNotes()"/>
                  </div>
                </div>
                <div id="notes-list"></div>
            </div>
            <div class="col-lg-9 notes-editor"><textarea></textarea></div>
        </div>
        <nav class="navbar fixed-bottom navbar-bottom">
            <div class="d-flex flex-row align-items-md-center w-100">
                <div class="d-flex align-items-center flex-grow-1 mb-md-0">
                    <label for="note-title">Title:</label>
                    <input id="note-title" class="form-control ml-2" type="search" aria-label="NoteTitle" />
                </div>
                <div class="d-flex d-md-none">
                    <button class="btn" onclick="showPublishModal()">
                        <i class="fa fa-bars"></i>
                    </button>
                </div>
                <div class="d-none d-md-flex">
                    <div class="btn-group dropup">
                        <button type="button" class="btn" onclick="saveNote()" style="margin-right:0;">
                          Publish
                        </button>
                        <button type="button" class="btn dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
                          <span class="visually-hidden">Toggle Dropdown</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><button class="dropdown-item danger" onclick="deleteNote()" style="margin:0">🗑️ Delete</button></li>
                            <li><button class="dropdown-item" onclick="savePrivateNote()" style="margin:0">🔒 Save as Draft</button></li>
                        </ul>
                    </div>

                    <button class="btn" onclick="viewPublishedNote()">Open Published <i class="fa fa-external-link" aria-hidden="true"></i></button>
                </div>
            </div>
        </nav>
    </div>
</div>

<!-- Toast Container -->
<div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="toast" class="toast align-items-center border-0" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
          <div class="toast-body" id="toast-content">
            Hello, world! This is a toast message.
          </div>
          <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      </div>
</div>

<!-- Confirm action modal -->
<div class="modal fade" id="confirmActionModal" tabindex="-1" aria-labelledby="confirmActionModal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="confirmActionTitle">Are you sure?</h1>
        </div>
        <div class="modal-body">
            <div class="row"><div class="col-12" id="confirmActionDetails"></div></div>
            <div class="row">
                <div class="col-6 text-end pe-2">
                    <button id="confirmActionYes" type="button" class="btn" data-bs-dismiss="modal">Confirm</button>
                </div>
                <div class="col-6 text-start ps-2">
                    <button id="confirmActionNo" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Publish modal -->
<div class="modal fade" id="publish-modal" tabindex="-1" aria-labelledby="publishModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="publishModalLabel">tagayasu</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <div class="list-group">
                <button class="list-group-item list-group-item-action active" aria-current="true" onclick="saveNote()">Publish</button>
                <button class="list-group-item list-group-item-action" onclick="savePrivateNote()">Save as private draft</button>
                <button class="list-group-item list-group-item-action" onclick="viewPublishedNote()">Open published <i class="fa fa-external-link" aria-hidden="true"></i></button>
                <button class="list-group-item list-group-item-action" onclick="deleteNote()">Delete Note</button>
              </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Note Details modal -->
<div class="modal fade" id="note-details-modal" tabindex="-1" aria-labelledby="noteDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
            <h1 class="modal-title fs-5" id="noteDetailsModalLabel"><span id="noteDetailsTitle"></span></h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <div class="row">
              <div class="col-6">
                <h3>Note Details</h3>
                <strong>Note ID:</strong> <span id='noteDetailsNaddr' data-naddr='' onclick='copyNaddr()'></span><br />
                <strong>Revision ID:</strong> <span id='noteDetailsId' data-id='' onclick='copyNoteId()'></span><br />
                <strong>Created At:</strong> <span id='noteDetailsDate'></span><br />
                <strong>Open In:</strong><br />
                &nbsp;&nbsp;&nbsp;&nbsp;<a href="#" target="_blank" id='noteDetailsOpenInTagayasu'>Tagayasu Reader</a><br />
                &nbsp;&nbsp;&nbsp;&nbsp;<a href="#" target="_blank" id='noteDetailsOpenInHabla'>Habla News</a><br />
                &nbsp;&nbsp;&nbsp;&nbsp;<a href="#" target="_blank" id='noteDetailsOpenInHighlighter'>Highlighter</a><br />
              </div>
              <div class="col-6">
                <h3>Found on Relays</h3>
                <div id='noteDetailsRelays'></div>
                <button id='noteDetailsDelete' class='btn' data-note-id='' onclick="deleteNote()">Delete Note</button>
              </div>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- New Note Modal -->
<div class="modal fade" id="new-note-modal" tabindex="-1" aria-labelledby="newNoteModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
            <h1 class="modal-title fs-5" id="newNoteModalLabel">New Note</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-12">
              <div class="form-floating mb-3">
                <input id="new-note-title" type="text" class="form-control" placeholder="Title or Topic">
                <label for="new-note-title">Title or Topic</label>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-4">
              <button class='new-note-type-button' style='border-color: #569cff' onclick="newNoteFromUi('private')">
                <i class='fa fa-eye-slash new-note-icon' style='color: #9dbae3'></i><br />
                <span class='new-note-type-title'>Private Note</span><br />
                <br />
                encrypted, never shared with other users
              </button>
            </div>
            <div class="col-lg-4">
              <button class='new-note-type-button' style='border-color: #48c77b' onclick="newNoteFromUi('standard')">
                <i class='fa fa-leaf new-note-icon' style='color: #a6e4bf'></i><br />
                <span class='new-note-type-title'>Standard Note</span><br />
                <br />
                public if linked to, not broadcast to followers
              </button>
            </div>
            <div class="col-lg-4">
              <button class='new-note-type-button' style='border-color: #e066c9' onclick="newNoteFromUi('article')">
                <i class='fa fa-bullhorn new-note-icon' style='color: #e680d3'></i><br />
                <span class='new-note-type-title'>Article</span><br />
                <br />
                shows up in your nostr longform timeline
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- -------------------------- BROWSER PAGE -------------------------------- -->

<div id="page-browser" style="display: none">
    <div class="container">
        <nav id="browser-navbar" class="navbar navbar-main" style="display:none">
            <div class="d-flex flex-column flex-lg-row align-items-lg-center w-100">
                <a href="/" class="navbar-brand mb-2 mb-lg-0 text-center text-lg-start d-none d-lg-block"><span class="jp">耕す</span> t a g a y a s u</a>
                <div class="d-flex flex-row justify-content-between justify-content-lg-end mt-lg-0 ml-lg-auto w-100 w-lg-auto" style="height:38px;">
                    <button class="btn btn-link mb-2 mb-lg-0 owner-only" onclick="openNoteInEditor()"><i class="fa fa-pencil" aria-hidden="true"></i> open in editor</button>
                    <button class="btn connect-wallet" onclick="connectWallet()">Connect</button>
                    <button class="btn btn-subtle avatar-main avatar" style="display:none" onclick="showSettings()"></button>
                </div>
            </div>
        </nav>
        <div class="row" id="custom-domain-row" style="display:none; font-family:monospace">
            <span><a href='#' onclick='navigateToNote("", ""); return false;'><b id="custom-domain"></b></a></span>
        </div>
        <div class="row" style="padding-top: 20px;">
            <div id="note-content" class="col-lg-8"></div>
            <div id="backref-container" class="col-lg-4" style="display:none">
                <h3>Linked References</h3>
                <ul id="backref-content"></ul>
            </div>
        </div>
    </div>
</div>

<!-- -----------------------------DNS LINK HELP PAGE ----------------------- -->
<div id="page-dnslinkHelp" style="display: none">
    <div class="container">
        <div class="container">
            <nav class="navbar navbar-main">
                <a href="/" class="navbar-brand"><span class="jp">耕す</span> t a g a y a s u</a>
                <div style="flex-grow: 1;">&nbsp;</div>
                    <button class="btn connect-wallet" onclick="connectWallet()">Connect</button>
                    <button class="btn btn-subtle avatar-main avatar" style="display:none" onclick="showSettings()"></button>
            </nav>
            <div class="row">
                <div class="col-lg-12">
                    <strong>Error: no npub found for this domain</strong><br />
                    You need to set a DNS record through your domain provider:<br />
                    <ul>
                        <li>Type: TXT</li>
                        <li>Host: npub</li>
                        <li>Value: <span id="npub">your public key (connect wallet to see your key here)</span></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- COMMON MODALS -->

<div class="modal fade" id="keyEntryModal" tabindex="-1" aria-labelledby="keyEntryModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="keyEntryModalLabel">Connect</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <form class="form-inline" action="#">
            <div class="modal-body">
                <div class="row">
                    <div class="col-12">
                        <p>Looks like you don't have a key vault available. You can login by using a passphrase below, but for the most secure experience we recommend installing the <a href="https://www.getflamingo.org/" target="_blank">Flamingo</a> or <a href="https://chrome.google.com/webstore/detail/nos2x/kpgefcfmnafjgpblomihpgmejjdanjjp" target="_blank">nos2x</a> browser extension (and then refresh this page).</p>
                        <p>Be sure to choose a strong and <strong>unique</strong> Passphrase</p>
                    </div>
                </div>
                <div class="row">
                    <div clas="col-12">
                        <input type="password" id="pass-phrase" class="form-control mr-sm-2" type="search" placeholder="Passphrase" aria-label="PassPhrase" style="margin-top: 7px" />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <input type="submit" id="connectWithPassPhraseButton" class="btn" value="Login" />
            </div>
        </form>
      </div>
    </div>
</div>


<div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="settingsModalLabel"><span class="avatar-inline avatar"></span><span class="username"></span> <span class="settings-npub">(<span class="npub"></span>)<span></h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="row">
            <div class="col-3 settings-list">
                <ul class="list-group list-group-flush">
                    <li id="settings-relays" class="settings-list-item list-group-item list-group-item-action active" onclick="openSettings('relays')">Relays</li>
                    <li id="settings-file-storage" class="settings-list-item list-group-item list-group-item-action" onclick="openSettings('file-storage')">File Storage</li>
                    <li id="settings-editor-preferences" class="settings-list-item list-group-item list-group-item-action" onclick="openSettings('editor-preferences')">Editor Preferences</li>
                    <li id="settings-dns-link" class="settings-list-item list-group-item list-group-item-action" onclick="openSettings('dns-link')">DNS Link</li>
                    <li class="settings-list-item list-group-item list-group-item-action list-group-item-danger" onclick="connectWallet()">Log Out</li>
                </ul>
            </div>

            <div id="settings-page-relays" class="settings-page col-9">
                <form class="form-inline" action="#">
                    <div class="modal-body">
                        <div class="row" style="margin-bottom: 40px">
                            <div class="col-12">
                                <h2>Relays</h2>
                                Your written content is always saved locally on this device first. Relays are servers that provide multiple backups of your notes and make them accessible to others if you've made them public.
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 40px">
                            <h4>Add Relay</h4>
                            <div class="col-10">
                                <input class="form-control" type="text" placeholder="wss://" id="new-relay-url" />
                            </div>
                            <div class="col-2">
                                <input type="submit" class="btn" value="Add" onclick="addRelayFromInput()" />
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 40px">
                            <h4>My Relays</h4>
                            <div clas="col-12" id="my-relays">
                                <i class="fa fa-spinner"></i> loading...
                            </div>
                        </div>

                        <div class="row">
                            <h4>Recommended Relays</h4>
                            <div class="col-12" id="recommended-relays">
                                <i class="fa fa-spinner"></i> loading...
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div id="settings-page-file-storage" class="settings-page col-9" style="display:none">
                <form class="form-inline" action="#">
                    <div class="modal-body">
                        <div class="row" style="margin-bottom: 40px">
                            <div class="col-12">
                                <h2>File Storage</h2>
                                These servers store your images, video, and other files. For now, only Blossom is supported, but nip96 is coming soon.
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 40px">
                            <h4>Upload Protocol</h4>
                            <div class="col-12">
                                <select class="form-select form-select-lg mb-3">
                                  <option selected value="blossom">Blossom</option>
                                  <option value="nip96" disabled>nip96 (coming soon)</option>
                                </select>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 40px">
                            <h4>Add Blossom Server</h4>
                            <div class="col-10">
                                <input class="form-control" type="text" placeholder="https://" id="new-file-server-url" />
                            </div>
                            <div class="col-2">
                                <input type="submit" class="btn" value="Add" onclick="addBlossomServerFromInput()" />
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 40px">
                            <h4>My Blossom Servers</h4>
                            <div clas="col-12" id="my-file-servers">
                                <i class="fa fa-spinner"></i> loading...
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div id="settings-page-editor-preferences" class="settings-page col-9" style="display:none">
                <form class="form-inline">
                    <div class="modal-body">
                        <div class="row">
                            <h3>Editor Preferences</h3>
                            <div clas="col-12">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" role="switch" id="editor-prefs-spellcheck">
                                    <label class="form-check-label" for="editor-prefs-spellcheck">Spellcheck Highlighting</label>
                                </div>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" role="switch" id="editor-prefs-aggressive-delete">
                                    <label class="form-check-label" for="editor-prefs-aggressive-delete">Aggressive Delete <small>(experimental - empty out note content before deleting)</small></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <input type="submit" class="btn" value="Save" onclick="savePreferences()" />
                    </div>
                </form>
            </div>

            <div id="settings-page-dns-link" class="settings-page col-9" style="display:none">
                <div class="modal-body">
                    <h3>DNS Link</h3>

                    <p>
                        When hosting Tagayasu on your own domain, you can use human-friendly URLs by linking your npub to the domain.
                        To do so, you need to configure the below record on your nameserver:
                        <ul>
                            <li>Type: TXT</li>
                            <li>Host: npub</li>
                            <li>Value: <span class="npub" style="display:block; overflow:overlay">your public key (connect wallet to see your key here)</span></li>
                        </ul>
                    </p>

                    <blockquote>
                        <h4>💡 Tips</h4>
                        <p>The note that will be shown when visiting your root domain is the note titled <code>homepage</code>.</p>
                        <p>Want to use your domain but not self host? Shoot me a DM and I'll whitelist your domain to point at the tagayasu.xyz servers</p>
                    </blockquote>
                </div>
            </div>
        </div>

      </div>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked-katex-extension/lib/index.umd.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked@11.2.0/lib/marked.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dompurify@3.0/dist/purify.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/highlight.js/latest/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
<script src="/assets/main.min.js"></script>

</body>
</html>
